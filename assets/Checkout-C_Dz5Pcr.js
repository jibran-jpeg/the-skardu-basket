import{r as d,e as C,g as F,u as S,j as e,h as g}from"./index-BAFKV7Dd.js";import{c as y}from"./confetti.module-B5JVzsfH.js";import{P}from"./package-BGkEH7Vi.js";import{C as D}from"./circle-check-big-DF0Z9sxD.js";import{C as p}from"./credit-card-gH21Q_Ee.js";import{T as u}from"./truck-SY2wQAK7.js";import{S as B}from"./shield-check-BrAqowPo.js";function I(){const{cartItems:i,getCartTotal:o,clearCart:f}=d.useContext(C),{createOrder:j}=F(),c=S(),[h,N]=d.useState(!1),[T,k]=d.useState(""),t=i.some(r=>r.categoryId==="seasonal-fruits"),[a,v]=d.useState({firstName:"",lastName:"",email:"",address:"",city:"",phone:""}),[s,m]=d.useState("cod");d.useEffect(()=>{t?m("bank_transfer"):s==="bank_transfer"&&!t&&m("cod")},[t]);const n=r=>{v({...a,[r.target.name]:r.target.value})},b=r=>{m(r.target.value)},w=async r=>{r.preventDefault();const x={name:`${a.firstName} ${a.lastName}`,email:a.email,phone:a.phone,address:a.address,city:a.city,postalCode:"",notes:"",subtotal:o(),shippingCost:0,total:o(),paymentMethod:s},l=await j(x,i);l.success&&(k(l.orderNumber),N(!0),f(),setTimeout(()=>{c(`/order-confirmation/${l.orderNumber}`)},2e3))};return i.length===0&&!h?e.jsx("div",{className:"min-h-screen pt-32 pb-12 flex flex-col items-center justify-center bg-gray-50 dark:bg-[#0B0C10] px-4",children:e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] p-12 max-w-md w-full text-center rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 animate-fade-in-up",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(P,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h2",{className:"text-2xl font-serif text-primary dark:text-[#F5F5F5] font-semibold mb-3",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 font-light",children:"Looks like you haven't added any items yet."}),e.jsx("button",{onClick:()=>c("/"),className:"bg-brand-primary text-white px-8 py-3 rounded-xl font-medium hover:bg-brand-dark transition-all shadow-sm hover:shadow-md",children:"Start Shopping"})]})}):h?(d.useEffect(()=>{const x=Date.now()+3e3,l=()=>{y({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#0B0C10","#C5C6C7","#D4AF37"]}),y({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#0B0C10","#C5C6C7","#D4AF37"]}),Date.now()<x&&requestAnimationFrame(l)};l()},[]),e.jsx("div",{className:"min-h-screen pt-32 pb-12 flex flex-col items-center justify-center bg-gray-50 dark:bg-[#0B0C10] px-4 animate-fade-in-up",children:e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] p-8 md:p-12 text-center max-w-lg w-full rounded-[30px] shadow-2xl border border-gray-100 dark:border-white/5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-brand-accent/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"w-24 h-24 bg-green-50 dark:bg-green-500/10 rounded-full flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full animate-ping opacity-75"}),e.jsx(D,{className:"w-12 h-12 text-green-600 dark:text-green-400 relative z-10"})]})}),e.jsx("h2",{className:"text-3xl font-serif text-brand-primary dark:text-white font-bold mb-2",children:"Order Confirmed!"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-8 font-light",children:["Thank you, ",e.jsx("span",{className:"font-bold text-brand-primary dark:text-brand-accent",children:a.firstName}),". Your order has been received."]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-6 rounded-2xl text-left mb-8 border border-gray-100 dark:border-white/5",children:[e.jsxs("p",{className:"text-xs text-brand-primary dark:text-brand-accent uppercase tracking-widest font-bold mb-4 flex items-center gap-2",children:[e.jsx(g,{size:12})," Next Steps"]}),s==="bank_transfer"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-brand-primary/5 dark:bg-white/5 border border-brand-primary/10 dark:border-white/10 rounded-xl",children:[e.jsxs("h3",{className:"font-bold text-brand-primary dark:text-white mb-2 flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4"})," Bank Transfer Details"]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300 ml-6",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Bank:"})," Mezan Bank"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Skardu Basket"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account No:"})," 0101-XXXXXXXX"]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:[e.jsx("p",{className:"mb-3",children:"Please send a screenshot of your payment to confirm your order."}),e.jsx("a",{href:"https://wa.me/923001234567",target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex items-center justify-center gap-2 bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition-colors shadow-lg shadow-green-600/20",children:"Verify on WhatsApp"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-white dark:bg-white/5 rounded-xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-1",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center gap-2 text-brand-primary dark:text-white font-bold text-sm",children:[e.jsx(u,{className:"w-4 h-4"}),"Cash on Delivery"]})]}),e.jsx("div",{className:"h-8 w-px bg-gray-200 dark:bg-white/10"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-1",children:"Estimated Delivery"}),e.jsx("p",{className:"text-brand-primary dark:text-white font-bold text-sm",children:"3-5 Days"})]})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-light text-center",children:"We will contact you shortly to confirm your shipping address."})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{className:"w-full py-4 bg-brand-primary text-white rounded-xl font-bold uppercase tracking-widest text-sm hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1",children:"Track Order Status"}),e.jsx("button",{onClick:()=>c("/"),className:"w-full py-4 text-gray-500 dark:text-gray-400 font-medium hover:text-brand-primary dark:hover:text-white transition-colors text-sm",children:"Continue Shopping"})]})]})]})})):e.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-gray-50 dark:bg-[#0B0C10]",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-10 text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 dark:text-[#F5F5F5] font-bold mb-2",children:"Checkout"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-light",children:"Complete your purchase"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 items-start",children:[e.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[e.jsxs("section",{"aria-labelledby":"shipping-heading",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary text-white flex items-center justify-center text-sm font-medium",children:"1"}),e.jsx("h2",{id:"shipping-heading",className:"text-xl font-serif text-gray-900 dark:text-[#F5F5F5] font-semibold",children:"Shipping Details"})]}),e.jsx("div",{className:"bg-white dark:bg-[#1F2833] p-8 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800",children:e.jsxs("form",{id:"checkout-form",onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",required:!0,value:a.firstName,onChange:n,className:"w-full bg-transparent border border-gray-300 dark:border-gray-600 px-4 py-3 rounded-lg focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-colors text-gray-900 dark:text-white placeholder-gray-400/70",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",required:!0,value:a.lastName,onChange:n,className:"w-full bg-transparent border border-gray-300 dark:border-gray-600 px-4 py-3 rounded-lg focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-colors text-gray-900 dark:text-white placeholder-gray-400/70",placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",required:!0,value:a.email,onChange:n,className:"w-full bg-transparent border border-gray-300 dark:border-gray-600 px-4 py-3 rounded-lg focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-colors text-gray-900 dark:text-white placeholder-gray-400/70",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Street Address"}),e.jsx("input",{type:"text",name:"address",required:!0,value:a.address,onChange:n,className:"w-full bg-transparent border border-gray-300 dark:border-gray-600 px-4 py-3 rounded-lg focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-colors text-gray-900 dark:text-white placeholder-gray-400/70",placeholder:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"City"}),e.jsx("input",{type:"text",name:"city",required:!0,value:a.city,onChange:n,className:"w-full bg-transparent border border-gray-300 dark:border-gray-600 px-4 py-3 rounded-lg focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-colors text-gray-900 dark:text-white placeholder-gray-400/70",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",required:!0,value:a.phone,onChange:n,className:"w-full bg-transparent border border-gray-300 dark:border-gray-600 px-4 py-3 rounded-lg focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-colors text-gray-900 dark:text-white placeholder-gray-400/70",placeholder:""})]})]})]})})]}),e.jsxs("section",{"aria-labelledby":"payment-heading",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary text-white flex items-center justify-center text-sm font-medium",children:"2"}),e.jsx("h2",{id:"payment-heading",className:"text-xl font-serif text-gray-900 dark:text-[#F5F5F5] font-semibold",children:"Payment Method"})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 space-y-4",children:[t&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200 rounded-lg border border-amber-200 dark:border-amber-800",children:[e.jsx(g,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Cash on Delivery Unavailable"}),e.jsx("p",{children:"Because your cart contains fresh Seasonal Fruits, we require advance payment to ensure safe delivery and freshness."})]})]}),e.jsxs("label",{className:`flex items-start cursor-pointer group p-4 border rounded-xl transition-all ${s==="cod"?"border-brand-primary bg-brand-primary/5":"border-gray-200 dark:border-gray-700"} ${t?"opacity-50 cursor-not-allowed bg-gray-100 dark:bg-gray-800":"hover:border-brand-primary/50"}`,children:[e.jsx("div",{className:"flex items-center h-5 mt-1",children:e.jsx("input",{type:"radio",name:"payment-method",value:"cod",checked:s==="cod",onChange:b,disabled:t,className:"w-4 h-4 text-brand-primary border-gray-300 focus:ring-brand-primary dark:focus:ring-offset-gray-900 disabled:text-gray-400"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`font-medium ${t?"text-gray-400":"text-gray-900 dark:text-white"}`,children:"Cash on Delivery"}),e.jsx(u,{className:`w-5 h-5 ${t?"text-gray-400":"text-brand-primary"}`})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Pay with cash when your order arrives."})]})]}),e.jsxs("label",{className:`flex items-start cursor-pointer group p-4 border rounded-xl transition-all ${s==="bank_transfer"?"border-brand-primary bg-brand-primary/5":"border-gray-200 dark:border-gray-700 hover:border-brand-primary/50"}`,children:[e.jsx("div",{className:"flex items-center h-5 mt-1",children:e.jsx("input",{type:"radio",name:"payment-method",value:"bank_transfer",checked:s==="bank_transfer",onChange:b,className:"w-4 h-4 text-brand-primary border-gray-300 focus:ring-brand-primary dark:focus:ring-offset-gray-900"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Advance Payment / Bank Transfer"}),e.jsx(p,{className:"w-5 h-5 text-brand-primary"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Transfer directly to our bank account. Details provided after confirmation."})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-5 lg:sticky lg:top-32",children:e.jsxs("section",{"aria-labelledby":"summary-heading",className:"bg-white dark:bg-[#1F2833] p-8 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-800",children:[e.jsx("h2",{id:"summary-heading",className:"text-lg font-serif font-bold text-gray-900 dark:text-white mb-6",children:"Order Summary"}),e.jsx("div",{className:"flow-root mb-8",children:e.jsx("ul",{className:"divide-y divide-dashed divide-gray-200 dark:divide-gray-700 -my-4 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar",children:i.map(r=>e.jsxs("li",{className:"flex py-4",children:[e.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200 dark:border-gray-700 bg-gray-50",children:e.jsx("img",{src:r.image,alt:r.name,className:"h-full w-full object-cover object-center"})}),e.jsx("div",{className:"ml-4 flex flex-1 flex-col",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 dark:text-white",children:[e.jsx("h3",{children:r.name}),e.jsxs("p",{className:"ml-4 tabular-nums",children:["PKR ",r.price*r.quantity]})]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Qty ",r.quantity]}),r.categoryId==="seasonal-fruits"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800 mt-1",children:"Fresh Item"})]})})]},r.id))})}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white tabular-nums",children:["PKR ",o()]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Shipping"}),e.jsx("p",{className:"font-medium text-brand-primary",children:"Free"})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Total"}),e.jsxs("p",{className:"text-xl font-bold text-brand-primary tabular-nums",children:["PKR ",o()]})]})]}),e.jsx("button",{type:"submit",form:"checkout-form",className:"w-full mt-8 bg-brand-primary border border-transparent rounded-xl shadow-sm py-4 px-4 text-sm font-bold text-white uppercase tracking-wide hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary transition-all hover:shadow-lg",children:s==="bank_transfer"?"Place Order & Pay":"Confirm Order"}),e.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-gray-400",children:[e.jsx(B,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Secure transaction via SSL"})]})]})})]})]})})}export{I as Checkout};
