import{c as x,b as P,r as o,j as e,J as L,F as M,g as I,K as $,I as E}from"./index-BAHnK3UD.js";import{P as F}from"./package-DivSPSaY.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],R=x("file-down",O);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],z=x("refresh-cw",T);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],A=x("trending-down",_);function U(){const{products:i,updateStock:g,getLowStockProducts:p,getOutOfStockProducts:j,loading:f}=P(),[h,v]=o.useState(""),[l,c]=o.useState("all"),[d,m]=o.useState({}),N=p().length,S=j().length,y=t=>t===0?{label:"Out of Stock",color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}:t<=5?{label:"Low Stock",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}:{label:"In Stock",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},b=i.filter(t=>t.name.toLowerCase().includes(h.toLowerCase())?l==="low"?t.stock>0&&t.stock<=5:l==="out"?t.stock===0:!0:!1),k=async(t,r,n)=>{const s=Math.max(0,r+n);await g(t,s)},w=(t,r)=>{m({...d,[t]:r})},u=async t=>{const r=parseInt(d[t]);!isNaN(r)&&r>=0&&(await g(t,r),m({...d,[t]:void 0}))},C=()=>{const t=[["Product Name","Category","Current Stock","Status","Price"],...i.map(a=>[a.name,a.categoryId,a.stock,y(a.stock).label,`PKR ${a.price}`])].map(a=>a.join(",")).join(`
`),r=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=`inventory-report-${new Date().toISOString().split("T")[0]}.csv`,s.click()};return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(z,{className:"w-8 h-8 animate-spin text-brand-primary dark:text-brand-accent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-gray-900 dark:text-white",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Track and manage product stock levels"})]}),e.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-primary/90 transition-all",children:[e.jsx(R,{size:18}),"Export Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-[#1F2833] p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total Products"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-[#1F2833] p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Low Stock Items"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:N})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-[#1F2833] p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Out of Stock"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:S})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center",children:e.jsx(A,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})]}),e.jsx("div",{className:"bg-white dark:bg-[#1F2833] p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:h,onChange:t=>v(t.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-primary text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${l==="all"?"bg-brand-primary text-white":"bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:"All"}),e.jsx("button",{onClick:()=>c("low"),className:`px-4 py-2 rounded-xl font-medium transition-all ${l==="low"?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:"Low Stock"}),e.jsx("button",{onClick:()=>c("out"),className:`px-4 py-2 rounded-xl font-medium transition-all ${l==="out"?"bg-red-600 text-white":"bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:"Out of Stock"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] rounded-2xl border border-gray-100 dark:border-white/5 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-100 dark:border-white/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Current Stock"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:b.map(t=>{var s;const r=y(t.stock),n=d[t.id]!==void 0;return e.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-white/5 transition-colors ${t.stock===0?"bg-red-50/50 dark:bg-red-900/10":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:I(t.image),alt:t.name,className:"w-12 h-12 rounded-lg object-cover bg-gray-100 dark:bg-white/5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["PKR ",t.price]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:(s=t.categoryId)==null?void 0:s.replace(/-/g," ")})}),e.jsx("td",{className:"px-6 py-4",children:n?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("input",{type:"number",min:"0",value:d[t.id],onChange:a=>w(t.id,a.target.value),className:"w-20 px-2 py-1 text-center bg-white dark:bg-white/10 border border-gray-300 dark:border-white/20 rounded-lg text-gray-900 dark:text-white",onKeyPress:a=>{a.key==="Enter"&&u(t.id)}}),e.jsx("button",{onClick:()=>u(t.id),className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300",children:"Save"})]}):e.jsx("p",{className:"text-center font-bold text-gray-900 dark:text-white cursor-pointer hover:text-brand-primary dark:hover:text-brand-accent",onClick:()=>w(t.id,t.stock),children:t.stock})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold ${r.color}`,children:r.label})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>k(t.id,t.stock,-1),disabled:t.stock===0,className:"p-2 bg-gray-100 dark:bg-white/5 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx($,{size:16,className:"text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>k(t.id,t.stock,1),className:"p-2 bg-gray-100 dark:bg-white/5 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-all",children:e.jsx(E,{size:16,className:"text-gray-700 dark:text-gray-300"})})]})})]},t.id)})})]})}),b.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found matching your filters."})})]})]})}export{U as default};
