import{k as u,u as f,h as k,r as n,j as e,i as x,l as N,P as w,m as v,L as c,A as C,H as P}from"./index-BAHnK3UD.js";import{c as o}from"./confetti.module-B5JVzsfH.js";import{L as _}from"./loader-circle-DuY2aKjO.js";import{C as z}from"./circle-check-big-DA2QlDl9.js";import{P as S}from"./package-DivSPSaY.js";import{T as O}from"./truck-D1wSROZC.js";import{C as B}from"./credit-card-Dg2OFiBy.js";import{C as A}from"./calendar-82AK_7H9.js";function E(){var i;const{orderNumber:s}=u(),d=f(),{getOrderByNumber:m}=k(),[r,g]=n.useState(null),[h,b]=n.useState(!0);n.useEffect(()=>{p(),y()},[s]);const p=async()=>{if(!s){d("/");return}const t=await m(s);t?g(t):setTimeout(()=>d("/"),3e3),b(!1)},y=()=>{const a=Date.now()+3e3,l=()=>{o({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#0B0C10","#C5C6C7","#D4AF37"]}),o({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#0B0C10","#C5C6C7","#D4AF37"]}),Date.now()<a&&requestAnimationFrame(l)};l()},j=t=>{const a={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",processing:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",shipped:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",delivered:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"};return a[t]||a.pending};return h?e.jsxs("div",{className:"min-h-screen pt-32 pb-12 flex flex-col items-center justify-center bg-gray-50 dark:bg-[#0B0C10] px-4",children:[e.jsx(_,{size:48,className:"text-brand-primary dark:text-brand-accent animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your order..."})]}):r?e.jsx("div",{className:"min-h-screen pt-32 pb-12 bg-gray-50 dark:bg-[#0B0C10] px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] rounded-3xl p-8 md:p-12 text-center mb-8 shadow-lg border border-gray-100 dark:border-white/5",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"w-20 h-20 bg-green-50 dark:bg-green-500/10 rounded-full flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full animate-ping opacity-75"}),e.jsx(z,{className:"w-10 h-10 text-green-600 dark:text-green-400 relative z-10"})]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900 dark:text-white mb-2",children:"Order Confirmed!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Thank you for your order. We've received it and will process it shortly."}),e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-6 border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Order Number"}),e.jsx("p",{className:"text-2xl font-bold text-brand-primary dark:text-brand-accent font-mono tracking-wider",children:r.order_number}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Save this number for tracking your order"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] rounded-2xl p-6 md:p-8 mb-6 shadow-sm border border-gray-100 dark:border-white/5",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(S,{size:20,className:"text-brand-primary dark:text-brand-accent"}),"Order Details"]}),e.jsx("div",{className:"space-y-4 mb-6",children:(i=r.items)==null?void 0:i.map((t,a)=>e.jsxs("div",{className:"flex gap-4 pb-4 border-b border-gray-100 dark:border-white/5 last:border-0",children:[t.product_image&&e.jsx("img",{src:t.product_image,alt:t.product_name,className:"w-16 h-16 rounded-lg object-cover bg-gray-100 dark:bg-white/5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm",children:t.product_name}),t.variant&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Variant: ",t.variant]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Qty: ",t.quantity]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["PKR ",t.subtotal]})})]},a))}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-white/10 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["PKR ",r.subtotal]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Shipping"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Free"})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-white/10",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-brand-primary dark:text-brand-accent",children:["PKR ",r.total]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-white/5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Customer Information"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{size:16,className:"text-gray-400 mt-0.5"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:r.customer_email})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(w,{size:16,className:"text-gray-400 mt-0.5"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:r.customer_phone})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-white/5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Shipping Address"}),e.jsx("div",{className:"space-y-3 text-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(v,{size:16,className:"text-gray-400 mt-0.5"}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("p",{children:r.shipping_address}),e.jsxs("p",{children:[r.city,", Pakistan"]})]})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1F2833] rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-white/5 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Order Status"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold uppercase ${j(r.status)}`,children:r.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.payment_method==="cod"?e.jsx(O,{size:16}):e.jsx(B,{size:16}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.payment_method==="cod"?"Cash on Delivery":"Bank Transfer"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Order Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(r.created_at).toLocaleDateString()})]})]})]}),r.payment_method==="bank_transfer"&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("p",{className:"font-bold mb-2",children:"Payment Required"}),e.jsx("p",{className:"mb-3",children:"Please transfer the amount to our bank account:"}),e.jsxs("div",{className:"bg-white dark:bg-white/10 p-3 rounded-lg space-y-1 text-xs",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Bank:"})," Mezan Bank"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Skardu Basket"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account No:"})," 0101-XXXXXXXX"]})]}),e.jsx("a",{href:"https://wa.me/923001234567",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-700 transition-colors text-xs",children:"Send Payment Screenshot on WhatsApp"})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(c,{to:"/track-order",className:"flex-1 py-3 px-6 bg-brand-primary text-white rounded-xl font-bold text-center hover:bg-brand-primary/90 transition-all flex items-center justify-center gap-2",children:["Track Order ",e.jsx(C,{size:16})]}),e.jsxs(c,{to:"/",className:"flex-1 py-3 px-6 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-xl font-bold text-center hover:bg-gray-200 dark:hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[e.jsx(P,{size:16})," Continue Shopping"]})]})]})}):e.jsxs("div",{className:"min-h-screen pt-32 pb-12 flex flex-col items-center justify-center bg-gray-50 dark:bg-[#0B0C10] px-4",children:[e.jsx(x,{size:64,className:"text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We couldn't find an order with this number."}),e.jsx("button",{onClick:()=>d("/"),className:"px-6 py-3 bg-brand-primary text-white rounded-xl font-bold hover:bg-brand-primary/90 transition-all",children:"Return Home"})]})}export{E as OrderConfirmation};
